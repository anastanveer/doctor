<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>REVISE MSRA • Question bank</title>
  <link rel="stylesheet" href="styles/custom.css" />
</head>
<body data-page="question-bank">

  <div data-include="partials/header.html"></div>

  <!-- ✅ HERO BAR -->
  <section class="page-hero page-hero--teal">
    <div class="page-hero__inner">
      <h1 class="page-hero__title">Question bank</h1>
    </div>
  </section>

  <!-- ✅ PAGE CONTENT -->
  <main class="page qb-page">
    <div class="container qb-layout">

      <!-- LEFT: Form -->
      <section class="qb-card">
        <div class="qb-head">
          <h2 class="qb-title">Start new question set</h2>
          <p class="qb-sub">Select topic(s)</p>
        </div>

        <div class="select-all-wrap">
          <label class="select-all">
            <input type="checkbox" />
            <span>Select all topics</span>
          </label>
        </div>

        <div class="topic-chips" role="list">
          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Professional dilemmas</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Cardiology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Dermatology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Endocrinology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">ENT</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Gastroenterology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">General surgery</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Haematology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Infectious disease</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Neurology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Obs &amp; gynae</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Ophthalmology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Paediatrics</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Pharmacology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Psychiatry</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Renal</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Respiratory</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Rheumatology / MSK</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>

          <button class="chip is-selected" type="button" aria-pressed="true">
            <span class="chip-status chip-status--check" aria-hidden="true">✔</span>
            <span class="chip-label">Urology</span>
            <span class="chip-status chip-status--remove" aria-hidden="true">✕</span>
          </button>
        </div>

        <div class="qb-options">
          <label class="qb-radio">
            <input type="radio" name="mode" checked />
            <span>Show me new questions only</span>
          </label>

          <label class="qb-radio">
            <input type="radio" name="mode" />
            <span>Show me new questions plus previous questions marked incorrect</span>
          </label>

          <label class="qb-radio">
            <input type="radio" name="mode" />
            <span>Show me all questions including those previously taken</span>
          </label>

          <label class="qb-radio">
            <input type="radio" name="mode" />
            <span>Show me flagged questions</span>
          </label>
        </div>

        <div class="qb-actions">
          <button class="btn-primary-dark btn-start" type="button">Start questions</button>
          <button class="btn-outline" type="button">Reset questions</button>
        </div>
      </section>

      <!-- RIGHT: MSRA Mastery Card -->
      <aside class="qb-aside">
        <article class="panel panel--mint qb-mastery">
          <div class="mastery-top">
            <div class="avatar-stack" aria-hidden="true">
              <span class="av av1"></span>
              <span class="av av2"></span>
              <span class="av av3"></span>
              <span class="av av4"></span>
              <span class="av av5"></span>
            </div>
          </div>

          <h2 class="mastery-title">MSRA Mastery</h2>
          <p class="mastery-text">
            With competition tougher than ever, the MSRA Mastery Course equips you with high-yield learning,
            clinchers, recalls, and expert strategies to excel.
          </p>

          <button class="btn-dark" type="button">
            <span class="btn-ico" aria-hidden="true">⤢</span>
            Learn more
          </button>

          <p class="mastery-foot">Secure your dream NHS job!</p>
        </article>
      </aside>

    </div>
  </main>

  <div data-include="partials/footer.html"></div>

  <script src="scripts/includes.js"></script>
  <script>
    const topicChips = document.querySelectorAll('.topic-chips .chip');
    const selectAllInput = document.querySelector('.select-all input');
    const startButton = document.querySelector('.btn-start');

    const setChipSelected = (chip, selected) => {
      chip.classList.toggle('is-selected', selected);
      chip.setAttribute('aria-pressed', selected ? 'true' : 'false');
    };

    const updateSelectAllState = () => {
      if (!selectAllInput) return;
      const allSelected = Array.from(topicChips).every((chip) => chip.classList.contains('is-selected'));
      selectAllInput.checked = allSelected;
    };

    topicChips.forEach((chip) => {
      chip.addEventListener('click', () => {
        const next = !chip.classList.contains('is-selected');
        setChipSelected(chip, next);
        updateSelectAllState();
      });

      const removeIcon = chip.querySelector('.chip-status--remove');
      if (removeIcon) {
        removeIcon.addEventListener('click', (event) => {
          event.stopPropagation();
          setChipSelected(chip, false);
          updateSelectAllState();
        });
      }
    });

    if (selectAllInput) {
      selectAllInput.addEventListener('change', (event) => {
        const checked = event.target.checked;
        topicChips.forEach((chip) => setChipSelected(chip, checked));
        updateSelectAllState();
      });
    }

    if (startButton) {
      startButton.addEventListener('click', () => {
        const hasSelected = Array.from(topicChips).some((chip) => chip.classList.contains('is-selected'));
        if (!hasSelected) {
          alert('Select at least one topic before starting.');
          return;
        }
        window.location.href = 'mcq-session.html';
      });
    }

    updateSelectAllState();
  </script>
</body>
</html>
